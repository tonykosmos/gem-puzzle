/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./script.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./constants.js":
/*!**********************!*\
  !*** ./constants.js ***!
  \**********************/
/*! exports provided: fieldSizeMin, fieldSizeMax, cellSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fieldSizeMin\", function() { return fieldSizeMin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fieldSizeMax\", function() { return fieldSizeMax; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cellSize\", function() { return cellSize; });\nconst fieldSizeMin = 3;\r\nconst fieldSizeMax = 8;\r\nconst cellSize = 100;\n\n//# sourceURL=webpack:///./constants.js?");

/***/ }),

/***/ "./endGame.js":
/*!********************!*\
  !*** ./endGame.js ***!
  \********************/
/*! exports provided: endGame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"endGame\", function() { return endGame; });\n/* harmony import */ var _script_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./script.js */ \"./script.js\");\n\r\n\r\nconst records = JSON.parse(localStorage.records);\r\n\r\nfunction endGame() {\r\n    if (_script_js__WEBPACK_IMPORTED_MODULE_0__[\"loaded\"]) {\r\n        for(let i = 1; i < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]**2; i++) {\r\n            if (_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.left === `${((i - 1) % _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]) * 100}px` && \r\n                _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.top === `${Math.floor((i - 1) / _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]) * 100}px`) {\r\n                continue;\r\n            } else {\r\n                return;\r\n            }\r\n        } \r\n    } else {\r\n        for(let i = 0; i < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]**2; i++) {\r\n            if ((_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.left === `${((+_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].textContent - 1) % _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]) * 100}px` && \r\n                _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.top === `${Math.floor((+_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].textContent - 1) / _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]) * 100}px`) || \r\n                _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.display === \"none\") {\r\n                continue;\r\n            } else {\r\n                return;\r\n            }\r\n        }   \r\n    }\r\n\r\n    _script_js__WEBPACK_IMPORTED_MODULE_0__[\"endGameMessage\"].classList.toggle(\"active\");\r\n    _script_js__WEBPACK_IMPORTED_MODULE_0__[\"bodyShadow\"].style.visibility = \"visible\";\r\n    clearInterval(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"clockTime\"]);\r\n    _script_js__WEBPACK_IMPORTED_MODULE_0__[\"endGameMessageText\"].innerHTML = `Ура! Вы решили головоломку за ${Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"addZero\"])(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"min\"])} : ${Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"addZero\"])(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"sec\"])} и ${_script_js__WEBPACK_IMPORTED_MODULE_0__[\"numberOfMoves\"]} хода`;\r\n    records.push([`${_script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]}x${_script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]}`, `${Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"addZero\"])(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"min\"])} : ${Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"addZero\"])(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"sec\"])}`, `${_script_js__WEBPACK_IMPORTED_MODULE_0__[\"numberOfMoves\"]}`]);\r\n    localStorage.records = JSON.stringify(records);\r\n    addCurrentResult();\r\n}\r\n\r\nfunction addCurrentResult() {\r\n    const records = JSON.parse(localStorage.records);\r\n    const lastGameFieldSize = records[records.length - 1][0];\r\n    const lastGameTime = records[records.length - 1][1];\r\n    const lastGameMoves = records[records.length - 1][2];\r\n    const newRecord = document.createElement(\"div\");\r\n    newRecord.className = \"new-record\";\r\n    const gameSize = document.createElement(\"p\");\r\n    gameSize.innerHTML = lastGameFieldSize;\r\n    const gameTime = document.createElement(\"p\");\r\n    gameTime.innerHTML = lastGameTime;\r\n    const gameMoves = document.createElement(\"p\");\r\n    gameMoves.innerHTML = lastGameMoves;\r\n    newRecord.append(gameSize, gameTime, gameMoves);\r\n    _script_js__WEBPACK_IMPORTED_MODULE_0__[\"scoreData\"].append(newRecord);\r\n    localStorage.records = JSON.stringify(records);\r\n\r\n    if (records.length > 10) {\r\n        removeExcessResult();\r\n    }\r\n}\r\n\r\nfunction removeExcessResult() {\r\n    const records = JSON.parse(localStorage.records);\r\n    const movesDiff = [];\r\n\r\n    for (let i = 0; i < records.length; i++) {\r\n        movesDiff.push(+records[i][2]);\r\n    }\r\n    const maxResult = Math.max(...movesDiff);\r\n\r\n    for (let i = 0; i < records.length; i++) {\r\n        if (maxResult === records[i][2]) {\r\n            records.splice(i, 1); \r\n            let removedResult = document.querySelector(`.score-data .new-record:nth-child(${i+1})`);\r\n            removedResult.remove();  \r\n        }\r\n    }\r\n    localStorage.records = JSON.stringify(records);\r\n}\n\n//# sourceURL=webpack:///./endGame.js?");

/***/ }),

/***/ "./init.js":
/*!*****************!*\
  !*** ./init.js ***!
  \*****************/
/*! exports provided: emptyLeftStartInit, emptyTopStartInit, init */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyLeftStartInit\", function() { return emptyLeftStartInit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyTopStartInit\", function() { return emptyTopStartInit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var _script_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./script.js */ \"./script.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"./constants.js\");\n\r\n\r\n\r\n\r\nlet emptyLeftStartInit;\r\nlet emptyTopStartInit;\r\nlet soundValidInit, empty, number;\r\nconst cells = [];\r\n\r\nfunction init() {\r\n    \r\n    if (!localStorage.records) {\r\n        localStorage.records = \"[]\";  \r\n    }\r\n\r\n    soundValidInit = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"soundValid\"];\r\n    empty = {\r\n        top: Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"getRandomInt\"])(0, _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"] - 1),\r\n        left: Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"getRandomInt\"])(0, _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"] - 1),\r\n    }\r\n    emptyLeftStartInit = empty.left;\r\n    emptyTopStartInit = empty.top;\r\n    const set = new Set();\r\n\r\n    while (set.size < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]**2 - 1) {\r\n        set.add(Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"getRandomInt\"])(1,(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]**2 - 1)));\r\n    }\r\n    \r\n    number = Array.from(set);\r\n    number[_script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]**2 - 1] = number[empty.top * _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"] + empty.left];\r\n    \r\n    createField();\r\n    checkIfSolvable();\r\n}\r\n\r\nfunction createField() {\r\n    cells.length = 0;\r\n    \r\n    for (let i = 0; i <= _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]**2 - 1; i++) {\r\n        const left = i % _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]\r\n        const top = (i - left) / _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"];\r\n        const cell = document.createElement(\"div\");\r\n        if (i === empty.top * _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"] + empty.left)  cell.style = \"display: none\"\r\n        cell.className = \"cell\";\r\n        cell.innerHTML = number[i];\r\n        cells.push({\r\n            left: left,\r\n            top: top,\r\n            element: cell\r\n        });\r\n        \r\n        cell.style.left = `${left * _constants_js__WEBPACK_IMPORTED_MODULE_1__[\"cellSize\"]}px`;\r\n        cell.style.top = `${top * _constants_js__WEBPACK_IMPORTED_MODULE_1__[\"cellSize\"]}px`;\r\n        _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].append(cell);\r\n        cell.style.backgroundImage = `url(./assets/${_script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"]}/${cell.innerHTML}.jpg)`;\r\n        cell.style.backgroundSize = \"100px 100px\";\r\n    \r\n        cell.addEventListener(\"click\", () => {\r\n            move(i);\r\n    \r\n            if (soundValidInit && _script_js__WEBPACK_IMPORTED_MODULE_0__[\"soundActive\"]) {\r\n                _script_js__WEBPACK_IMPORTED_MODULE_0__[\"soundEffect\"].play();\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction move(index) {\r\n    const cell = cells[index];\r\n    const leftDiff = Math.abs(empty.left - cell.left);\r\n    const topDiff = Math.abs(empty.top - cell.top);\r\n    \r\n    if (leftDiff + topDiff > 1) {\r\n        soundValidInit = false;\r\n        return;\r\n    } else {\r\n        soundValidInit = true;\r\n        cell.element.style.left = `${empty.left * _constants_js__WEBPACK_IMPORTED_MODULE_1__[\"cellSize\"]}px`;\r\n        cell.element.style.top = `${empty.top * _constants_js__WEBPACK_IMPORTED_MODULE_1__[\"cellSize\"]}px`; \r\n        Object(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"countMoves\"])();\r\n        \r\n        const emptyLeft = empty.left;\r\n        const emptyTop = empty.top;\r\n        empty.left = cell.left;\r\n        empty.top = cell.top;\r\n        cell.left = emptyLeft;\r\n        cell.top = emptyTop;  \r\n    }\r\n}\r\n\r\nfunction checkIfSolvable() {\r\n    let combinationEvenity = 0;\r\n\r\n    for (let i = 0; i < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children.length; i++) {\r\n        for (let j = i; j < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children.length; j++) {\r\n            if ((+_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[j].textContent < +_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].textContent) && _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[j].style.display !== \"none\" && _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.display !== \"none\") {\r\n                combinationEvenity++;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (_script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"] % 2 === 0) {\r\n        combinationEvenity += empty.top + 1;\r\n    }\r\n\r\n    if (combinationEvenity % 2 !== 0) {\r\n        _script_js__WEBPACK_IMPORTED_MODULE_0__[\"errorRandomMessage\"].innerHTML = \"This combination is unsolvable, mix again this one\";\r\n    } else {\r\n        _script_js__WEBPACK_IMPORTED_MODULE_0__[\"errorRandomMessage\"].innerHTML = \"\";\r\n    }          \r\n}\n\n//# sourceURL=webpack:///./init.js?");

/***/ }),

/***/ "./saveGame.js":
/*!*********************!*\
  !*** ./saveGame.js ***!
  \*********************/
/*! exports provided: oldStylesLeft, oldStylesTop, leftSum, topSum, saveGame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"oldStylesLeft\", function() { return oldStylesLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"oldStylesTop\", function() { return oldStylesTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"leftSum\", function() { return leftSum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"topSum\", function() { return topSum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveGame\", function() { return saveGame; });\n/* harmony import */ var _script_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./script.js */ \"./script.js\");\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./init.js */ \"./init.js\");\n\r\n\r\nconst oldStylesLeft = {}; // offset cells to the right\r\nconst oldStylesTop = {}; // offset cells to the bottom\r\nlet leftSum;\r\nlet topSum;\r\n\r\nfunction saveGame() { \r\n    localStorage.fieldSize = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"fieldSize\"];\r\n    localStorage.sec = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"sec\"];\r\n    localStorage.min = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"min\"];\r\n    localStorage.moves = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"numberOfMoves\"];\r\n    \r\n    for (let i = 0; i < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].childNodes.length; i++) {\r\n        oldStylesLeft[String(+_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].childNodes[i].textContent)] = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].childNodes[i].style.left;\r\n        oldStylesTop[String(+_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].childNodes[i].textContent)] = _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].childNodes[i].style.top;\r\n    }\r\n    \r\n    localStorage.oldStylesLeft = JSON.stringify(oldStylesLeft);\r\n    localStorage.oldStylesTop = JSON.stringify(oldStylesTop);\r\n    leftSum = 0;\r\n    topSum = 0;\r\n    \r\n    for (let i = 0; i < _script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children.length; i++) {\r\n        topSum  += parseInt(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.top);\r\n        leftSum += parseInt(_script_js__WEBPACK_IMPORTED_MODULE_0__[\"field\"].children[i].style.left);\r\n    }\r\n\r\n    leftSum -= _init_js__WEBPACK_IMPORTED_MODULE_1__[\"emptyLeftStartInit\"] * 100;\r\n    topSum -= _init_js__WEBPACK_IMPORTED_MODULE_1__[\"emptyTopStartInit\"] * 100;\r\n    localStorage.leftSum = leftSum;\r\n    localStorage.topSum = topSum; \r\n}\n\n//# sourceURL=webpack:///./saveGame.js?");

/***/ }),

/***/ "./script.js":
/*!*******************!*\
  !*** ./script.js ***!
  \*******************/
/*! exports provided: bodyShadow, soundEffect, field, endGameMessage, endGameMessageText, scoreData, errorRandomMessage, fieldSize, soundActive, soundValid, loaded, numberOfMoves, sec, min, getRandomInt, countMoves, addZero, clockTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bodyShadow\", function() { return bodyShadow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"soundEffect\", function() { return soundEffect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"field\", function() { return field; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"endGameMessage\", function() { return endGameMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"endGameMessageText\", function() { return endGameMessageText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scoreData\", function() { return scoreData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"errorRandomMessage\", function() { return errorRandomMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fieldSize\", function() { return fieldSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"soundActive\", function() { return soundActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"soundValid\", function() { return soundValid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loaded\", function() { return loaded; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"numberOfMoves\", function() { return numberOfMoves; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sec\", function() { return sec; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"min\", function() { return min; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRandomInt\", function() { return getRandomInt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"countMoves\", function() { return countMoves; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addZero\", function() { return addZero; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clockTime\", function() { return clockTime; });\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init.js */ \"./init.js\");\n/* harmony import */ var _saveGame_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./saveGame.js */ \"./saveGame.js\");\n/* harmony import */ var _endGame_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./endGame.js */ \"./endGame.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants.js */ \"./constants.js\");\n\r\n // sum of coordinates along the axes X & Y\r\n\r\n\r\n\r\n\r\nconst bodyShadow = document.createElement(\"div\"),\r\nsoundEffect = document.createElement(\"audio\"),\r\nfield = document.createElement(\"div\"),\r\nendGameMessage = document.createElement(\"div\"),\r\nendGameMessageText = document.createElement(\"p\"),\r\nscoreData = document.createElement(\"div\"),\r\nerrorRandomMessage = document.createElement(\"p\");\r\n\r\nconst askMessageWindow = document.createElement(\"div\"),\r\nbody = document.querySelector(\"body\"),\r\nfieldContainer = document.createElement(\"div\"),\r\nmenuOptions = document.createElement(\"div\"),\r\ncontentArea = document.createElement(\"div\"),\r\ngameData = document.createElement(\"div\"),\r\ncurrentGameTime = document.createElement(\"div\"),\r\nmovesCounter = document.createElement(\"div\"),\r\nbottomMenu = document.createElement(\"div\"),\r\nquestionText = document.createElement(\"p\");\r\n\r\naskMessageWindow.className = \"ask-message\";\r\nerrorRandomMessage.className = \"error-random-message\";\r\nendGameMessage.className = \"end-game-message\";\r\nfieldContainer.className = \"field-container\";\r\nsoundEffect.setAttribute(\"src\", \"./sound/sound.mp3\");\r\nbottomMenu.className = \"bottom-menu\";\r\nmenuOptions.className = \"options\";\r\nbodyShadow.className = \"shadow\";\r\ngameData.className = \"parameters\";\r\ncontentArea.className = \"content-area\";\r\nfield.className = \"field\";\r\n\r\nbody.append(contentArea);\r\ncontentArea.prepend(errorRandomMessage);\r\nbody.append(bodyShadow);\r\nbody.append(soundEffect);\r\ncontentArea.append(menuOptions);\r\ncontentArea.append(gameData);\r\ncontentArea.append(fieldContainer);\r\nfieldContainer.append(field);\r\ncontentArea.append(bottomMenu);\r\n\r\nlet fieldSize = 4, // size of game field\r\n    soundActive = false, // flag, that controls sound is enable for moving cells\r\n    soundValid = true,// flag, that controls sound playing only for moving cells\r\n    loaded = false, // flag, that defines if it loaded game or new \r\n    numberOfMoves = 0, \r\n    sec = 0,\r\n    min = 0;\r\n\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; \r\n}\r\n\r\nObject(_init_js__WEBPACK_IMPORTED_MODULE_0__[\"init\"])();\r\n\r\nfunction createEndGameWindow() {\r\n    const endGameMessageContent = document.createElement(\"div\");\r\n    const closeModalButton = document.createElement(\"div\");\r\n    closeModalButton.className = \"close-modal\";\r\n    endGameMessageContent.className = \"content\";\r\n    closeModalButton.innerHTML = `<i class=\"material-icons\">close</i>`;\r\n    body.append(endGameMessage);\r\n    endGameMessage.append(endGameMessageContent);\r\n    endGameMessageContent.append(endGameMessageText);\r\n    endGameMessageContent.append(closeModalButton);\r\n    \r\n    closeModalButton.addEventListener(\"click\", () => {\r\n        endGameMessage.classList.toggle(\"active\");\r\n        createNewGame(); \r\n        bodyShadow.style.visibility = \"hidden\";\r\n        clockTime = setInterval(tick, 1000);\r\n    })\r\n}\r\n\r\ncreateEndGameWindow();\r\n\r\nfunction createAskWindow() {\r\n    const answers = document.createElement(\"div\");\r\n    const answerYes = document.createElement(\"div\");\r\n    const answerNo = document.createElement(\"div\");\r\n    questionText.className = \"question\";\r\n    answers.className = \"answers\";\r\n    answerYes.className = \"answers__item\";\r\n    answerNo.className = \"answers__item\";\r\n    answerYes.innerHTML = \"Yes\";\r\n    answerNo.innerHTML = \"No\";\r\n    body.append(askMessageWindow);\r\n    askMessageWindow.append(questionText);\r\n    askMessageWindow.append(answers);\r\n    answers.append(answerYes);\r\n    answers.append(answerNo);\r\n    \r\n    answerYes.addEventListener(\"click\", () => {\r\n        if (questionText.innerHTML === \"Do you want to load saved game?\") {\r\n            if (localStorage.fieldSize) {\r\n               loadGame(); \r\n            } else {\r\n                return;\r\n            }\r\n            \r\n        } else {\r\n            Object(_saveGame_js__WEBPACK_IMPORTED_MODULE_1__[\"saveGame\"])();\r\n        }\r\n    \r\n        bodyShadow.style.visibility = \"hidden\";\r\n        askMessageWindow.classList.remove(\"active\");\r\n        clockTime = setInterval(tick, 1000);\r\n    });\r\n\r\n    answerNo.addEventListener(\"click\", () => {\r\n        bodyShadow.style.visibility = \"hidden\";\r\n        askMessageWindow.classList.remove(\"active\");\r\n        clockTime = setInterval(tick, 1000);\r\n    })\r\n}\r\n\r\ncreateAskWindow();\r\n\r\nfunction createNewGameButton() {\r\n    const newGameButton = document.createElement(\"div\");\r\n    newGameButton.className = \"new-game\"\r\n    newGameButton.innerHTML = \"New game\";\r\n    menuOptions.append(newGameButton);\r\n    newGameButton.addEventListener(\"click\", createNewGame);\r\n}\r\n\r\ncreateNewGameButton();\r\n\r\nfunction createLoadGameButton() {\r\n    const loadGameButton = document.createElement(\"div\");\r\n    loadGameButton.className = \"load-game\";\r\n    loadGameButton.innerHTML = \"Load game\";\r\n    menuOptions.append(loadGameButton);\r\n    \r\n    loadGameButton.addEventListener(\"click\", () => {\r\n        bodyShadow.style.visibility = \"visible\";\r\n        askMessageWindow.classList.add(\"active\");\r\n        questionText.innerHTML = \"Do you want to load saved game?\";\r\n        clearInterval(clockTime);\r\n    });\r\n}\r\n\r\ncreateLoadGameButton();\r\n\r\nfunction createSaveGameButton() {\r\n    const saveGameButton = document.createElement(\"div\");\r\n    saveGameButton.className = \"save-game\";\r\n    saveGameButton.innerHTML = \"Save game\";\r\n    menuOptions.append(saveGameButton);\r\n    \r\n    saveGameButton.addEventListener(\"click\", () => {\r\n        bodyShadow.style.visibility = \"visible\";\r\n        askMessageWindow.classList.add(\"active\");\r\n        questionText.innerHTML = \"Do you want to save this game?\";\r\n        clearInterval(clockTime);\r\n    })\r\n}\r\n\r\ncreateSaveGameButton();\r\n\r\nfunction createTimer() {\r\n    currentGameTime.className = \"timer\";\r\n    currentGameTime.innerHTML = `00 : 00`;\r\n    gameData.append(currentGameTime);\r\n}\r\n\r\ncreateTimer();\r\n\r\nfunction createSoundSwitch() {\r\n    const soundSwitch = document.createElement(\"button\");\r\n    soundSwitch.className = \"sound-switch\";\r\n    soundSwitch.innerHTML = `<i class=\"material-icons\">volume_up</i>`;\r\n    gameData.append(soundSwitch);\r\n    \r\n    soundSwitch.addEventListener(\"click\", () => {\r\n        soundActive = !soundActive;\r\n        soundSwitch.classList.toggle(\"active\");\r\n    })\r\n}\r\n\r\ncreateSoundSwitch();\r\n\r\nfunction createMovesCounter() {\r\n    movesCounter.className = \"moves\";\r\n    movesCounter.innerHTML = `Moves: 0`;\r\n    gameData.append(movesCounter);\r\n}\r\n\r\ncreateMovesCounter();\r\n\r\nfunction createFieldSizeMenu() {\r\n    const fieldSizeBlock = document.createElement(\"div\");\r\n    const fieldSizeButton = document.createElement(\"div\");\r\n    const fieldSizeMenu = document.createElement(\"div\");\r\n    fieldSizeBlock.className = \"field-size\";\r\n    fieldSizeButton.className = \"field-size-button\";\r\n    fieldSizeMenu.className = \"field-size-menu\";\r\n    fieldSizeButton.innerHTML = \"Field size\";\r\n    bottomMenu.append(fieldSizeBlock);\r\n    fieldSizeBlock.append(fieldSizeButton);\r\n    fieldSizeBlock.append(fieldSizeMenu);\r\n\r\n    // create a field where variable i matches the size of field i x i\r\n    for (let i = _constants_js__WEBPACK_IMPORTED_MODULE_3__[\"fieldSizeMin\"]; i <= _constants_js__WEBPACK_IMPORTED_MODULE_3__[\"fieldSizeMax\"]; i++) { \r\n        const fieldSizeMenuItem = document.createElement(\"div\");\r\n        fieldSizeMenuItem.className = \"field-size-menu__item\";\r\n        fieldSizeMenuItem.innerHTML = `${i}x${i}`;\r\n        fieldSizeMenu.append(fieldSizeMenuItem);\r\n    \r\n        fieldSizeMenuItem.addEventListener(\"click\", () => {\r\n            loaded = false;\r\n            fieldSize = +fieldSizeMenuItem.innerHTML[0];\r\n\r\n            while (field.firstChild) {\r\n                field.removeChild(field.firstChild);\r\n            }\r\n\r\n            field.style.width = `${i*100}px`;\r\n            field.style.height = `${i*100}px`;\r\n            numberOfMoves = 0;\r\n            sec = 0;\r\n            min = 0;\r\n            movesCounter.innerHTML = `Moves: 0`;\r\n            currentGameTime.innerHTML = `00 : 00`;\r\n            Object(_init_js__WEBPACK_IMPORTED_MODULE_0__[\"init\"])();\r\n            addSpecialStyles();\r\n        })\r\n    }\r\n\r\n    fieldSizeButton.addEventListener(\"click\", () => {\r\n        fieldSizeMenu.classList.toggle(\"active\");\r\n    })\r\n}\r\n\r\ncreateFieldSizeMenu();\r\n\r\nfunction addSpecialStyles() {\r\n    // special styles for big fields\r\n    if (fieldSize >= 6) {\r\n        menuOptions.style.transform = \"scale(1.3)\";\r\n        gameData.style.transform = \"scale(1.3)\"; \r\n\r\n        if (fieldSize === 6) { \r\n            contentArea.style.height = `850px`;\r\n        }\r\n\r\n        if (fieldSize === 7) { \r\n            contentArea.style.height = `950px`;\r\n        }\r\n  \r\n        if (fieldSize === 8) {  \r\n            contentArea.style.height = `1050px`;\r\n        }\r\n    \r\n        if (window.innerWidth >= 500) {\r\n            contentArea.style.transform = 'translate(-50%, -50%) scale(0.6)';\r\n        } else {\r\n            contentArea.style.transform = 'translate(-50%, -50%) scale(0.38)';\r\n        }  \r\n    }\r\n\r\n    // if size of the field less than 6x6, for that field using classic styles\r\n    if (fieldSize < 6) { \r\n        contentArea.style.height = \"\";\r\n        contentArea.style.transform = '';\r\n        menuOptions.style.transform = \"\";\r\n        gameData.style.transform = \"\";\r\n    }\r\n}\r\n\r\nfunction createBestScoresList() {\r\n    const bestScoresButton = document.createElement(\"div\");\r\n    const bestScores = document.createElement(\"div\");\r\n    const scoresContent = document.createElement(\"div\");\r\n    const scoreHead = document.createElement(\"div\");\r\n    const scoreFieldSize = document.createElement(\"p\");\r\n    const scoreTime = document.createElement(\"p\");\r\n    const scoreMoves = document.createElement(\"p\");\r\n    const closeScoresButton = document.createElement(\"div\");\r\n    bestScores.className = \"best-scores\";\r\n    scoresContent.className = \"content\";\r\n    bestScoresButton.className = \"best-scores-button\";\r\n    scoreData.className = \"score-data\";\r\n    scoreHead.className = \"new-record-head\";\r\n    closeScoresButton.className = \"close-modal\";\r\n    bestScoresButton.innerHTML = \"Best scores\";\r\n    scoreFieldSize.innerHTML = \"Field Size\";\r\n    scoreTime.innerHTML = \"Time\";\r\n    scoreMoves.innerHTML = \"Moves\";\r\n    closeScoresButton.innerHTML = `<i class=\"material-icons\">close</i>`;\r\n    body.append(bestScores);\r\n    bottomMenu.append(bestScoresButton);\r\n    bestScores.append(scoresContent);\r\n    bestScores.append(closeScoresButton);\r\n    scoreData.append(scoreHead);\r\n    scoresContent.append(scoreData);\r\n    scoreHead.append(scoreFieldSize, scoreTime, scoreMoves);\r\n    \r\n    bestScoresButton.addEventListener(\"click\", () => {\r\n        bestScores.classList.toggle(\"active\");\r\n        clearInterval(clockTime);\r\n    })\r\n\r\n    closeScoresButton.addEventListener(\"click\", () => {\r\n        bestScores.classList.toggle(\"active\");\r\n        clockTime = setInterval(tick, 1000);\r\n    })\r\n}\r\n\r\ncreateBestScoresList();\r\n \r\nfunction createNewGame() {\r\n    loaded = false;\r\n    numberOfMoves = 0;\r\n    sec = 0;\r\n    min = 0;\r\n    movesCounter.innerHTML = `Moves: 0`;\r\n    currentGameTime.innerHTML = `00 : 00`;\r\n    \r\n    while (field.firstChild) {\r\n        field.removeChild(field.firstChild);\r\n    }\r\n    Object(_init_js__WEBPACK_IMPORTED_MODULE_0__[\"init\"])();\r\n}\r\n\r\nfunction loadGame() {\r\n    loaded = true;\r\n    sec = localStorage.sec;\r\n    min = localStorage.min;\r\n    numberOfMoves = localStorage.moves;\r\n    movesCounter.innerHTML = `Moves: ${numberOfMoves}`;\r\n    let emptyDiff = 0;\r\n    \r\n    for (let i = 0; i < localStorage.fieldSize; i++) {\r\n        emptyDiff += (i*100) * localStorage.fieldSize; \r\n    }\r\n\r\n    const empty = {\r\n        top: Math.abs((localStorage.topSum - emptyDiff) / 100),\r\n        left: Math.abs((localStorage.leftSum - emptyDiff) / 100),\r\n    }\r\n\r\n    while (field.firstChild) {\r\n        field.removeChild(field.firstChild);\r\n    }\r\n\r\n    function move(index) {\r\n        const cell = cells[index];\r\n        const leftDiff = Math.abs(empty.left - cell.left);\r\n        const topDiff = Math.abs(empty.top - cell.top);\r\n    \r\n        if (leftDiff + topDiff > 1) {\r\n            soundValid = false;\r\n            return;\r\n        } else {\r\n            soundValid = true;\r\n            cell.element.style.left = `${empty.left * _constants_js__WEBPACK_IMPORTED_MODULE_3__[\"cellSize\"]}px`;\r\n            cell.element.style.top = `${empty.top * _constants_js__WEBPACK_IMPORTED_MODULE_3__[\"cellSize\"]}px`; \r\n            \r\n            countMoves();\r\n\r\n            const emptyLeft = empty.left;\r\n            const emptyTop = empty.top;\r\n            empty.left = cell.left;\r\n            empty.top = cell.top;\r\n            cell.left = emptyLeft;\r\n            cell.top = emptyTop; \r\n        }   \r\n    }\r\n    \r\n    const cells = [];\r\n    \r\n    for (let i = 0; i <= localStorage.fieldSize**2 - 1; i++) {\r\n        const left = parseInt(JSON.parse(localStorage.oldStylesLeft)[i]) / 100; \r\n        const top = parseInt(JSON.parse(localStorage.oldStylesTop)[i]) / 100;\r\n        const cell = document.createElement(\"div\");\r\n        \r\n        if (i === 0)  {\r\n            cell.style.display = \"none\";\r\n            cells.push({\r\n                left: Math.abs((_saveGame_js__WEBPACK_IMPORTED_MODULE_1__[\"leftSum\"] - emptyDiff) / 100),\r\n                top: Math.abs((_saveGame_js__WEBPACK_IMPORTED_MODULE_1__[\"topSum\"] - emptyDiff) / 100),\r\n                element: cell\r\n            });\r\n\r\n            cell.className = \"cell\";\r\n            cell.style.left = `${Math.abs(localStorage.leftSum - emptyDiff)}px`;\r\n            cell.style.top =  `${Math.abs(localStorage.topSum - emptyDiff)}px`;\r\n            field.append(cell);\r\n            continue;\r\n        }\r\n\r\n        cell.className = \"cell\";\r\n        cell.innerHTML = i; \r\n        cells.push({\r\n            left: left,\r\n            top: top,\r\n            element: cell\r\n        });\r\n        \r\n        cell.style.left = JSON.parse(localStorage.oldStylesLeft)[i];\r\n        cell.style.top =  JSON.parse(localStorage.oldStylesTop)[i];\r\n        field.append(cell);\r\n        cell.style.backgroundImage = `url(./assets/${localStorage.fieldSize}/${cell.innerHTML}.jpg)`;\r\n        cell.style.backgroundSize = \"100px 100px\";\r\n        \r\n        cell.addEventListener(\"click\", () => {\r\n            move(i);\r\n            if (soundValid && soundActive) {\r\n                soundEffect.play();\r\n            }\r\n        })\r\n        field.style.width = `${localStorage.fieldSize*100}px`;\r\n        field.style.height = `${localStorage.fieldSize*100}px`;\r\n    }\r\n    fieldSize = localStorage.fieldSize;\r\n    addSpecialStyles();\r\n}\r\n\r\n\r\nfunction countMoves() {\r\n    numberOfMoves++;\r\n    movesCounter.innerHTML = `Moves: ${numberOfMoves}`;\r\n}\r\n\r\nfunction addZero(n) {\r\n    if (parseInt(n, 10) < 10) {\r\n        return \"0\" + n;\r\n    } else {\r\n        return n;\r\n    }  \r\n}\r\n           \r\nfunction tick() {\r\n    sec++;\r\n\r\n    if (sec === 60)  {\r\n        sec = 0;\r\n        min++;\r\n    }\r\n\r\n    currentGameTime.innerHTML = `${addZero(min)} : ${addZero(sec)}`;\r\n}\r\nlet clockTime = setInterval(tick, 1000);\r\n\r\n\r\nfield.addEventListener(\"click\", _endGame_js__WEBPACK_IMPORTED_MODULE_2__[\"endGame\"]);\r\n\r\n\r\nfunction addResults() {\r\n    if (JSON.parse(localStorage.records).length !== 0) {\r\n        for (let i = 0; i < JSON.parse(localStorage.records).length; i++) {\r\n            const newRecord = document.createElement(\"div\");\r\n            newRecord.className = \"new-record\"\r\n            const lastGameSize = document.createElement(\"p\");\r\n            lastGameSize.innerHTML = JSON.parse(localStorage.records)[i][0]\r\n            const lastGameTime = document.createElement(\"p\");\r\n            lastGameTime.innerHTML = JSON.parse(localStorage.records)[i][1]\r\n            const lastGameMoves = document.createElement(\"p\");\r\n            lastGameMoves.innerHTML = JSON.parse(localStorage.records)[i][2]\r\n            newRecord.append(lastGameSize, lastGameTime, lastGameMoves);\r\n            scoreData.append(newRecord);\r\n        }  \r\n    }\r\n}\r\naddResults();\r\n\r\n// changing sizes if screen size less than 500px for field with size 6x6 and more\r\nfunction resizeBigField() {\r\n    if (window.innerWidth >= 500 && fieldSize >= 6) {\r\n        contentArea.style.transform = 'translate(-50%, -50%) scale(0.6)';\r\n    } else if (window.innerWidth < 500 && fieldSize >= 6 ) {\r\n        contentArea.style.transform = 'translate(-50%, -50%) scale(0.38)';\r\n    } else if (fieldSize < 6) {\r\n        contentArea.style.transform = \"\";\r\n    }  \r\n}\r\n\r\nwindow.addEventListener(\"resize\", resizeBigField);\n\n//# sourceURL=webpack:///./script.js?");

/***/ })

/******/ });